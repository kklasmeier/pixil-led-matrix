# Text Alignment Test Script
# Tests LEFT, CENTER, RIGHT alignment modifiers for NORMAL effect
# Tests both piboto-regular and tiny64_font fonts
# Also tests clear_text functionality with alignment

# ============================================
# TEST 1: piboto-regular font alignment tests
# ============================================
print("TEST 1: piboto-regular font alignment")
sync_queue

# Draw reference line at x=32 (center of matrix)
draw_line(32, 0, 32, 63, dark_gray, 30)

# Center text at x=32 (center of 64-pixel matrix)
draw_text(32, 1, "CENTER", piboto-regular, 9, white, 100, NORMAL, CENTER)

# Right-align text ending at x=60
draw_text(60, 15, "RIGHT", piboto-regular, 9, yellow, 100, NORMAL, RIGHT)

# Left-align (default behavior, same as before)
draw_text(5, 30, "LEFT", piboto-regular, 9, cyan, 100, NORMAL, LEFT)

# Also works with no modifier (defaults to left-aligned)
draw_text(5, 45, "DEFAULT", piboto-regular, 9, green, 100)

rest(4)
print("Clearing piboto-regular text...")
sync_queue

# Test clear_text works with aligned text
clear_text(32, 1)
rest(1)
clear_text(60, 15)
rest(1)
clear_text(5, 30)
rest(1)
clear_text(5, 45)
rest(2)

# ============================================
# TEST 2: tiny64_font alignment tests
# ============================================
clear()
print("TEST 2: tiny64_font alignment")
sync_queue

# Draw reference line at x=32 (center of matrix)
draw_line(32, 0, 32, 63, dark_gray, 30)

# Center text at x=32 (center of 64-pixel matrix)
draw_text(32, 1, "CENTER", tiny64_font, 8, white, 100, NORMAL, CENTER)

# Right-align text ending at x=60
draw_text(60, 15, "RIGHT", tiny64_font, 8, yellow, 100, NORMAL, RIGHT)

# Left-align (default behavior, same as before)
draw_text(5, 30, "LEFT", tiny64_font, 8, cyan, 100, NORMAL, LEFT)

# Also works with no modifier (defaults to left-aligned)
draw_text(5, 45, "DEFAULT", tiny64_font, 8, green, 100)

rest(4)
print("Clearing tiny64_font text...")

# Test clear_text works with aligned text
clear_text(32, 1)
rest(1)
clear_text(60, 15)
rest(1)
clear_text(5, 30)
rest(1)
clear_text(5, 45)
rest(2)

sync_queue

# ============================================
# TEST 3: Numeric alignment (common use case)
# ============================================
clear()
print("TEST 3: Numeric alignment - score display example")

# Draw reference line at x=32 (center of matrix)
draw_line(32, 0, 32, 63, dark_gray, 30)
sync_queue

# Simulate a centered score display
draw_text(32, 5, "SCORE", piboto-regular, 9, white, 100, NORMAL, CENTER)
draw_text(32, 20, "12345", piboto-regular, 9, yellow, 100, NORMAL, CENTER)

# Right-aligned score (useful for leaderboards)
draw_text(60, 40, "99999", piboto-regular, 9, green, 100, NORMAL, RIGHT)
sync_queue

rest(4)

# ============================================
# TEST 4: All alignments side by side
# ============================================
clear()
print("TEST 4: All alignments comparison")
sync_queue

# Draw vertical reference lines
draw_line(5, 0, 5, 63, red, 30)
draw_line(32, 0, 32, 63, green, 30)
draw_line(60, 0, 60, 63, blue, 30)

# Labels at top
draw_text(5, 1, "L", tiny64_font, 8, red, 100, NORMAL, LEFT)
draw_text(32, 1, "C", tiny64_font, 8, green, 100, NORMAL, CENTER)
draw_text(60, 1, "R", tiny64_font, 8, blue, 100, NORMAL, RIGHT)

# Test with number "8" - same character at each alignment
draw_text(5, 20, "8", piboto-regular, 12, red, 100, NORMAL, LEFT)
draw_text(32, 20, "8", piboto-regular, 12, green, 100, NORMAL, CENTER)
draw_text(60, 20, "8", piboto-regular, 12, blue, 100, NORMAL, RIGHT)

# Test with longer text
draw_text(5, 45, "Hi", tiny64_font, 8, red, 100, NORMAL, LEFT)
draw_text(32, 45, "Hi", tiny64_font, 8, green, 100, NORMAL, CENTER)
draw_text(60, 45, "Hi", tiny64_font, 8, blue, 100, NORMAL, RIGHT)

rest(5)
sync_queue

# ============================================
# TEST 5: Variable display test
# ============================================
clear()
print("TEST 5: Variable display with alignment")
sync_queue

v_score = 42
v_lives = 3

draw_text(32, 10, "GAME", piboto-regular, 9, white, 100, NORMAL, CENTER)
draw_text(32, 25, v_score, piboto-regular, 12, yellow, 100, NORMAL, CENTER)
draw_text(5, 50, "Lives:", tiny64_font, 8, cyan, 100, NORMAL, LEFT)
draw_text(60, 50, v_lives, tiny64_font, 8, green, 100, NORMAL, RIGHT)

rest(4)
sync_queue

# Cleanup
clear()
print("Text alignment tests complete!")
